[package]
name = "nannou"
version ="0.19.0"
authors = ["mitchmindtree <mitchell.nordine@gmail.com>"]
description = "A Creative Coding Framework for Rust."
readme = "README.md"
keywords = ["creative", "sketch", "graphics", "audio"]
license = "MIT"
repository = "https://github.com/nannou-org/nannou.git"
homepage = "https://github.com/nannou-org/nannou"
edition = "2018"

[dependencies]
bevy = { workspace = true }
bevy-inspector-egui = { workspace = true, optional = true }
bevy_egui = { workspace = true, optional = true }
bevy_common_assets = { workspace = true, optional = true }
bevy_nannou = { version = "0.1.0", path = "../bevy_nannou" }
bevy_nannou_derive = { version = "0.1.0", path = "../bevy_nannou_derive" }
find_folder = "0.3"
lyon = "1.0"
nannou_core = { version ="0.19.0", path = "../nannou_core", features = ["std"] }
nannou_wgpu = { version = "0.19.0", path = "../nannou_wgpu", features = ["capturer"]}
noise = "0.7"
pennereq = "0.3"
serde = { workspace = true, features = ["derive"], optional = true}
serde_json = { workspace = true, optional = true }
toml = { workspace = true, optional = true }
walkdir = "2"
wgpu = { workspace = true }

[target.'cfg(not(target_arch = "wasm32"))'.dependencies]
tokio = { version = "1", features = ["full"]}
image = { workspace = true, features = ["default"] }
[target.'cfg(target_arch = "wasm32")'.dependencies]
bevy = { workspace = true, features = ["webgpu"] }
tokio = { version = "1", features = ["rt"]}
image = { workspace = true, features = [], default-features = false }

[features]
default = []
egui = ["bevy_egui", "bevy-inspector-egui"]
hot_reload = ["bevy/file_watcher"]
isf = ["bevy_nannou/isf"]
video = ["bevy_nannou/video"]
serde = ["dep:serde", "toml", "serde_json", "nannou_core/serde"]
config_json = ["bevy_common_assets/json"]
config_toml = ["bevy_common_assets/toml"]